type Profile {
  name: String!
  avatar: String
  bio: String
  location: Location
}

type Location {
  type: String
  coordinates: [Float]
}

type BorrowerProfile {
  requestedAmount: Float
  loanPurpose: String
  creditScore: Int
  supportingDocs: [SupportingDoc]
  ratings: [Rating]
}

type SupportingDoc {
  type: String
  url: String
}

type Rating {
  stars: Int
  comment: String
  reviewer: User
  createdAt: String
}

type UserProfile {
  name: String!
  avatar: String
  bio: String
  location: Location
  email: String
  phone: String
  documentSubmitted: Boolean
}

type User {
  id: ID!
  name: String!
  phone: String
  role: String!
  avatar: String
  bio: String
  profile: Profile
  borrowerProfile: BorrowerProfile
  documentSubmitted: Boolean
}

extend type Query {
  getUserProfile: UserProfile!
  getBorrowers: [User!]!
}

input UpdateProfileInput {
  name: String
  avatar: String
  bio: String
  email: String
  location: LocationInput
}

input LocationInput {
  type: String
  coordinates: [Float]
}

input UpdatePhoneInput {
  newPhone: String!
}

input VerifyPhoneUpdateInput {
  newPhone: String!
  otp: String!
}

extend type Mutation {
  updateProfile(input: UpdateProfileInput!): UserProfile
  requestPhoneUpdateOtp(input: UpdatePhoneInput!): Boolean!
  verifyPhoneUpdate(input: VerifyPhoneUpdateInput!): UserProfile!
}