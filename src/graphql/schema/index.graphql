schema {
  query: Query
  mutation: Mutation
  subscription: Subscription
}

union SearchResult = LenderPost | LoanRequest
enum SearchFilter {
  LENDERS
  LOAN_REQUESTS
}
enum SecurityType {
  SECURED
  UNSECURED
} 

type Query {
  _empty: String
  getUserProfile: UserProfile!
  getDocumentVerification: DocumentVerification
  getDocumentVerificationStatus: String
  getLenderPosts(page: Int, limit: Int): [LenderPost!]!
  getLenderPost(userId: ID!): LenderPost
  getMyLenderPost: LenderPost

    search(
    query: String!
    filter: SearchFilter!
    securityType: SecurityType # Optional filter for SECURED/UNSECURED
    page: Int
    limit: Int
  ): [SearchResult!]!
}

type Mutation {
  requestOtp(phone: String!): Boolean!
  verifyOtp(phone: String!, otp: String!): AuthPayload!
  submitDocumentVerification(input: DocumentVerificationInput!): DocumentVerification!
  updateDocumentVerification(id: ID!, input: DocumentVerificationInput!): DocumentVerification!
  verifyDocument(id: ID!, documentType: String!, verified: Boolean!): DocumentVerification!
  updateVerificationStatus(id: ID!, status: String!, rejectionReason: String): DocumentVerification!
  getPresignedS3Url(fileName: String!, fileType: String!): PresignedUrlResponse!
  getPresignedS3GetUrl(fileName: String!): PresignedUrlResponse!
  createOrUpdateLenderPost(input: LenderPostInput!): LenderPost!
  deleteMyLenderPost: Boolean!
}

# Add this type definition
type Subscription {
  _empty: String
}
